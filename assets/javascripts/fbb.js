var EXAMPLE_WEATHER_RESPONSE = {"message":"","cod":"200","city_id":5809844,"calctime":0.0031,"cnt":21,"list":[{"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04n"}],"main":{"temp":286.54,"pressure":1021,"humidity":71,"temp_min":284.15,"temp_max":289.26},"wind":{"speed":2.1,"deg":0},"forecast_rain":{"3h":0.05},"clouds":{"all":90},"dt":1349247600},{"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04n"}],"main":{"temp":286.16,"pressure":1021,"humidity":67,"temp_min":284.15,"temp_max":289.15},"wind":{"speed":2.1,"deg":0},"forecast_rain":{"3h":0.05},"clouds":{"all":90},"dt":1349251200},{"weather":[{"id":803,"main":"Clouds","description":"broken clouds","icon":"04n"}],"main":{"temp":285.31,"pressure":1022,"humidity":71,"temp_min":283.15,"temp_max":288.15},"wind":{"speed":0,"deg":0},"forecast_rain":{"3h":0.05},"clouds":{"all":75},"dt":1349254800},{"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04n"}],"main":{"temp":284.3,"pressure":1022,"humidity":76,"temp_min":281.15,"temp_max":286.15},"wind":{"speed":0,"deg":0},"forecast_rain":{"3h":0.05},"clouds":{"all":90},"dt":1349258400},{"weather":[{"id":802,"main":"Clouds","description":"scattered clouds","icon":"03n"}],"main":{"temp":283.96,"pressure":1023,"humidity":87,"temp_min":281.15,"temp_max":286.15},"wind":{"speed":0,"deg":0},"forecast_rain":{"3h":0.05},"clouds":{"all":40},"dt":1349262000},{"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04n"}],"main":{"temp":283.23,"pressure":1024,"humidity":81,"temp_min":280.93,"temp_max":286.15},"wind":{"speed":0,"deg":0},"clouds":{"all":90},"dt":1349269200},{"weather":[{"id":800,"main":"Clear","description":"sky is clear","icon":"02d"}],"main":{"temp":283.5,"humidity":67,"pressure":1042,"temp_min":281.48,"temp_max":285.37},"wind":{"speed":6.68,"gust":8.22,"deg":180},"clouds":{"all":15},"dt":1349272800},{"weather":[{"id":800,"main":"Clear","description":"sky is clear","icon":"02d"}],"main":{"temp":286.71,"humidity":42,"pressure":1043,"temp_min":283.71,"temp_max":290.37},"wind":{"speed":1.03,"gust":4.11,"deg":180},"clouds":{"all":15},"dt":1349283600},{"weather":[{"id":800,"main":"Clear","description":"sky is clear","icon":"02d"}],"main":{"temp":287.42,"humidity":39,"pressure":1043,"temp_min":285.15,"temp_max":290.93},"wind":{"speed":1.54,"gust":3.08,"deg":180},"clouds":{"all":5},"dt":1349287200},{"weather":[{"id":800,"main":"Clear","description":"sky is clear","icon":"02d"}],"main":{"temp":288.61,"humidity":34,"pressure":1043,"temp_min":286.15,"temp_max":293.71},"wind":{"speed":1.03,"gust":2.06,"deg":180},"clouds":{"all":5},"dt":1349290800},{"weather":[{"id":800,"main":"Clear","description":"sky is clear","icon":"02d"}],"main":{"temp":289.13,"humidity":32,"pressure":1043,"temp_min":286.48,"temp_max":293.71},"wind":{"speed":1.03,"gust":2.57,"deg":180},"clouds":{"all":5},"dt":1349294400},{"weather":[{"id":800,"main":"Clear","description":"sky is clear","icon":"02d"}],"main":{"temp":289.41,"humidity":33,"pressure":1042,"temp_min":287.04,"temp_max":293.71},"wind":{"speed":1.54,"gust":3.6,"deg":180},"clouds":{"all":5},"dt":1349298000},{"weather":[{"id":800,"main":"Clear","description":"sky is clear","icon":"01d"}],"main":{"temp":288.95,"pressure":1022,"humidity":33,"temp_min":287.04,"temp_max":291.15},"wind":{"speed":3.6,"deg":290},"clouds":{"all":1},"dt":1349305200},{"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04n"}],"main":{"temp":288.79,"pressure":1024,"humidity":41,"temp_min":287.04,"temp_max":291.15},"wind":{"speed":2.6,"deg":340},"clouds":{"all":90},"dt":1349308800},{"weather":[{"id":800,"main":"Clear","description":"sky is clear","icon":"01n"}],"main":{"temp":287.47,"pressure":1022,"humidity":38,"temp_min":285.37,"temp_max":289.15},"wind":{"speed":2.6,"deg":0},"clouds":{"all":1},"dt":1349312400},{"weather":[{"id":800,"main":"Clear","description":"sky is clear","icon":"01n"}],"main":{"temp":286.01,"pressure":1023,"humidity":47,"temp_min":283.71,"temp_max":288.15},"wind":{"speed":4.1,"deg":330},"clouds":{"all":1},"dt":1349316000},{"weather":[{"id":800,"main":"Clear","description":"sky is clear","icon":"01n"}],"main":{"temp":284.85,"pressure":1023,"humidity":50,"temp_min":282.59,"temp_max":288.15},"wind":{"speed":2.6,"deg":350},"clouds":{"all":1},"dt":1349319600},{"weather":[{"id":800,"main":"Clear","description":"sky is clear","icon":"01n"}],"main":{"temp":283.91,"pressure":1024,"humidity":58,"temp_min":282.04,"temp_max":286.15},"wind":{"speed":1.5,"deg":360},"clouds":{"all":1},"dt":1349323200},{"weather":[{"id":800,"main":"Clear","description":"sky is clear","icon":"01n"}],"main":{"temp":283.31,"pressure":1024,"humidity":58,"temp_min":280.93,"temp_max":286.15},"wind":{"speed":0,"deg":0},"clouds":{"all":1},"dt":1349326800},{"weather":[{"id":800,"main":"Clear","description":"sky is clear","icon":"01n"}],"main":{"temp":283.07,"pressure":1025,"humidity":58,"temp_min":280.37,"temp_max":285.15},"wind":{"speed":1.5,"deg":20},"clouds":{"all":1},"dt":1349330400},{"weather":[{"id":800,"main":"Clear","description":"sky is clear","icon":"01n"}],"main":{"temp":283.15,"pressure":1026,"humidity":40,"temp_min":280.37,"temp_max":285.15},"wind":{"speed":8.2,"deg":360,"gust":12.9},"clouds":{"all":1},"dt":1349334000}]}

var weatherHandler; // TODO: does this NEED to be a global variable?

$(document).ready(function() {
  initializeView();
});

function initializeView() {
  weatherHandler = new WeatherHandler;

  display(new Date(2012, 9, 03)); // Date uses a 0-based index for month
}

function display(date) {
  weatherHandler.update(EXAMPLE_WEATHER_RESPONSE['list'][0]);
}
